# Запуск проекту

Для запуску проекту виконайте наступні кроки:

## 1. Створення файлу `.env`

Скопіюйте файл `.env.example` и перейменуйте його в `.env`. Потім відкрийте файл `.env` та замініть наступні строки:

```env
DB_CONNECTION=mariadb
DB_HOST=db
DB_PORT=3306
DB_DATABASE=laravel_db
DB_USERNAME=root
DB_PASSWORD=root
```

## 2. Запуск контейнерів Docker

Після налаштувань файла `.env`, виконайте команду для запуску контейнерів Docker:

```bash
docker-compose up --build
```

## 3. Доступ к приложению

Після успішного запуску контейнерів, додаток буде доступний за наступною адресою:

http://localhost:8000

## 4. API

## 4.1 Авторизація та аутентифікація

 ### Реєстрація користувача
 
 ``` POST: api/v1/register ```
 
 #### Необхідні поля:
    {
    	"name":"Name",
    	"email":"mail@email.com",
    	"password":"password"
    }
   #### Доступ:
   Публічний
   
---
 ### Авторизація користувача
 
 ```POST: api/v1//login ```
 
  #### Необхідні поля:
    {
    	"email":"mail@email.com",
    	"password":"password"
    }
   #### Доступ:
   Публічний
   
---
 ### Видалення авторизаційного токену з БД

 ```GET: api/v1/logout ```
  #### Доступ:
   Потребує авторизації

 ## 4.2 Cутність категорій

   Доступні поля: 'title'

   ### * Створення категорії
         
   ```POST: api/v1/categories ```
         
   #### Необхідні поля:
       {
    	   "title":"Category Title"
       }
   #### Доступ:
   Потребує авторизації

   ---
   ### * Список категорій
         
   ```GET: api/v1/categories ```
         
   #### Доступ:
   Публічний

   ---

### * Отримання категорії за id
         
   ```GET: api/v1/categories/:id ```
         
   #### Доступ:
   Публічний

   ---
   ### * Редагування категорії
         
   ```PUT: api/v1/categories/:id ```
         
   #### Необхідні поля:
       {
    	   "title":"Category New Title
       }
   #### Доступ:
   Потребує авторизації


 ### * Видалення категорії
         
   ```DELETE: api/v1/categories/:id ```

   #### Доступ:
   Потребує авторизації


 ## 4.3 Cутність продуктів
 
   Доступні поля: 'name', 'description', 'price', 'category_id', 'image'
   
   ### * Створення продукту
         
   ```POST: api/v1/products[?category_id=7&search=rod&min_price=9.99&max_price=15.55]```
         
   #### Необхідні поля:
       {
        	"name":"Product Test",
        	"description":"Lorem ipsum dolor",
        	"category_id":1,
        	"price":11.11
       }
   #### Доступ:
   Потребує авторизації

   ---
   ### * Список продуктів
         
   ```GET: api/v1/products ```
         
   #### Доступ:
   Публічний

   ---

### * Отримання продукту за id
         
   ```GET: api/v1/products/:id ```
         
   #### Доступ:
   Публічний

   ---
   ### * Редагування продукту
         
   ```PUT: api/v1/products/:id ```
         
   #### Необхідні поля:
       {
            "name":"Product name new",
        	"description":"New description",
        	"image":"http://new_image.url",
        	"category_id":2,
        	"price":22.22
       }
   #### Доступ:
   Потребує авторизації


 ### * Видалення продукту
         
   ```DELETE: api/v1/products/:id ```

   #### Доступ:
   Потребує авторизації
   
   ---

   ## 4.4 Cутність коментарів
 
   Доступні поля: 'content'
   
   ### * Створення коментарю
         
   ```POST: api/v1/comments ```
         
   #### Необхідні поля:
       {
        	"content":"Lorem ipsum dolor",
       }
   #### Доступ:
   Потребує авторизації

   ---
   ### * Список коментарів 
         
   ```GET: api/v1/comments ```
         
   #### Доступ:
   Публічний

   ---

   ### * Редагування коментарю
         
   ```PUT: api/v1/comments/:id ```
         
   #### Необхідні поля:
       {
    	   	"content":"Lorem ipsum dolor",
         	"product_id":1,
       }
   #### Доступ:
   Потребує авторизації: Тільки для створившого коментар користувача


 ### * Видалення коментарю
         
   ```DELETE: api/v1/comments/:id ```

   #### Доступ:
   Потребує авторизації: Тільки для створившого коментар користувача

   ---

   ## 4.5 Cутність замовлень
 
   Доступні поля: -
   
   ### * Створення замовлення
         
   ```POST: api/v1/purchases ```
         
   #### Необхідні поля:
       {
        	 "items": [
                { "product_id": 1, "quantity": 1},
                { "product_id": 2, "quantity": 2}
            ]
       }
       
   #### Доступ:
   Потребує авторизації

   ---
   ### * Список замовлень користувача
         
   ```GET: api/v1/purchases ```
         
   #### Доступ:
   Потребує авторизації, доступ тільки до списку замовлень авторизованого користувача

   ---
   ### * Список усіх замовлень (Beta)
         
   ```GET: api/v1/purchases/all ```
         
   #### Доступ:
   Потребує авторизації, (доступ тільки для адміну - у розробці)

   ---
   ### * Конкретне замовлення
         
   ```GET: api/v1/purchases/:id ```
         
   #### Доступ:
   Потребує авторизації: Тільки для створившого замовлення користувача

 ---
 ### * Видалення замовлення
         
   ```DELETE: api/v1/purchases/:id ```

   #### Доступ:
   Потребує авторизації: Тільки для створившого замовлення користувача

   ---

   ## 4.5 Cутність позицій у замовленні
 
   Доступні поля: 'quantity'
   
   ---
   ### * Редагування позиції замовлення
         
   ```DELETE: api/v1/purchase_items/:id ```
   #### Необхідні поля:
   
       {
        	 "quantity": 1
       }
       
   #### Доступ:
   Потребує авторизації: Тільки для створившого замовлення користувача

   ---
   
   ### * Видалення позиції замовлення
         
   ```DELETE: api/v1/purchase_items/:id ```

   #### Доступ:
   Потребує авторизації: Тільки для створившого замовлення користувача

   ---
 
   
